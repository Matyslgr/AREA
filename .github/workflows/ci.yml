name: CI Pipeline

on:
  push:
    branches:
      - main
    tags:
      - 'v*'
  pull_request:
    branches:
      - main

jobs:
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # 2. BUILD (TODO: Configure when needed)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # build:
  #   name: ğŸ—ï¸ Build Project
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: ğŸ“¥ Checkout
  #       uses: actions/checkout@v4
  #
  #     - name: ğŸ› ï¸ Compilation / Build
  #       run: |
  #         # Ex: make, npm run build, cargo build...
  #         echo "Building project..."
  #
  #     - name: ğŸ“¤ Upload Artifact
  #       uses: actions/upload-artifact@v4
  #       with:
  #         name: project-build
  #         path: dist/ # ou ton binaire

  sync:
    name: ğŸ” Push to Mirror
    if: github.event_name == 'push' && github.ref == 'refs/heads/main'
    uses: Matyslgr/.github/.github/workflows/mirror.yml@main

    with:
      mirror_url: ${{ vars.MIRROR_URL }}
    secrets: inherit

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # 3. RELEASE (TODO: Decomment when build is ready)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # release:
  #   name: ğŸ“¦ Create Release
  #   needs: [build]
  #   if: startsWith(github.ref, 'refs/tags/')
  #   uses: Matyslgr/.github/.github/workflows/release_maker.yml@main
  #   with:
  #     artifact_pattern: "*"